const c=document.querySelector(".js-list-task"),d=document.querySelector(".js-new-input"),f=document.querySelector(".add-form__button"),i=document.querySelector(".js-search-input"),y=document.querySelector(".js-search-btn");document.querySelector(".js-x");const v=document.querySelector(".js-pending-count"),h=document.querySelector(".js-completed-count"),l=document.querySelector(".js-overlay-alert"),g=document.querySelector(".js-overlay-error-message"),S=document.querySelector(".js-overlay-close");document.querySelector(".js-overlay-search-error-message");const k=e=>{g.textContent=e,l.style.display="flex",d.value="",i.value=""},m=()=>{l.style.display="none"};S.addEventListener("click",m);const T=e=>{e.target===l&&m()};l.addEventListener("click",T);let n=[];const u=()=>{localStorage.setItem("savedTasks",JSON.stringify(n)),console.log(typeof JSON.stringify(n)),console.log(JSON.stringify(n))},x=()=>{const e=JSON.parse(localStorage.getItem("savedTasks"));e&&(n=e)},r=()=>{let e="";for(const t of n)e+=`<li>
            <i class="fa-solid fa-circle-xmark js-x" id="${t.id}"></i>
            <input type="checkbox" id="${t.id}" ${t.completed?"checked":""}>
            <label class="${t.completed?"crossed-out-task":""}" for="${t.id}">${t.name}</label>
            </li>`;c.innerHTML=e},I=e=>{let t="";for(const s of e)t+=`<li>
            <i class="fa-solid fa-circle-xmark js-x" id="${s.id}"></i>
            <input type="checkbox" id="${s.id}" ${s.completed?"checked":""}>
            <label class="${s.completed?"crossed-out-task":""}" for="${s.id}">${s.name}</label>
            </li>`;c.innerHTML=t},j=e=>{e.preventDefault();const t=d.value.trim();if(t===""){k("No se puede añadir una tarea vacia.");return}const o=Math.max(...n.map(p=>p.id),0)+1;n.push({name:t,completed:!1,id:o}),u(),r(),a(),d.value=""};f.addEventListener("click",j);const q=e=>{const t=parseInt(e.target.id);if(!t)return;const s=n.find(o=>o.id===t);s&&(s.completed=!s.completed),u(),r(),a()};c.addEventListener("click",q);const L=e=>{e.preventDefault();const t=i.value.trim(),s=n.filter(o=>o.name.toLowerCase().includes(t.toLowerCase()));if(s.length===0||t===""){k("No se han encontrado tareas que coincidan con la búsqueda.");return}I(s),a(s),i.value=""};y.addEventListener("click",L);const $=e=>{if(e.target.classList.contains("js-x")){const t=parseInt(e.target.id),s=n.findIndex(o=>o.id===t);s!==-1&&(n.splice(s,1),u(),r(),a())}};c.addEventListener("click",$);const a=(e=n)=>{const t=e.filter(o=>o.completed).length,s=e.filter(o=>!o.completed).length;h.textContent=t,v.textContent=s,n.length===0&&console.log("No hay tareas en la lista")};x();r();a();
//# sourceMappingURL=main.js.map
